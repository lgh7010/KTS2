<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.krafton.kts.backend.domain.test.service.impl.mybatis.TestInterfaceMybatisMapper">
    <select id="findAllTest" resultType="com.krafton.kts.backend.domain.test.domain.db.KTS_TEST">
        SELECT * FROM KTS_TEST WHERE DELETED = 'N';
    </select>

    <select id="findTest" resultType="com.krafton.kts.backend.domain.test.domain.db.KTS_TEST">
        SELECT * FROM KTS_TEST WHERE testGuid = #{testGuid} AND DELETED = 'N';
    </select>

    <update id="removeTest" parameterType="com.krafton.kts.backend.domain.test.domain.command.RemoveTestCommand">
        UPDATE KTS_TEST SET deleted = 'Y' WHERE testGuid = #{testGuid};

        UPDATE TEST_REL_TESTCASE SET deleted = 'Y' WHERE testGuid = #{testGuid};
    </update>

</mapper>