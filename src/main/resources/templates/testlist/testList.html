<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    function removeTest(button){
        console.log("removeTest : " + button.value);
        $.ajax({
            url : "/removeTest",
            type : "POST",
            data : {
                TEST_SEQ: button.value
            },
            success : function(successMsg){
                location.reload();
            },
            error : function(errMsg){
                console.error(errMsg);
            }
        })
    }
    function openEditLayer(button){
        console.log("openEditLayer : " + button.value);
        $.ajax({
            url : "/testcaseList",
            type : "POST",
            data : {
                TEST_SEQ: button.value
            },
            success : function(list_of_testcase){
                console.log(list_of_testcase);
                $("#testEditLayer").show();
            },
            error : function(err){
                console.error(err);
            }
        });
    }
    function closeEditLayer(){
        $("#testEditLayer").hide();
    }
</script>

<!--html-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>testList</title>
</head>
<body>
    <div th:each="test : ${tests}">
        <h1 th:text="${test.NAME}"></h1>
        <h5 th:text="${test.DESCRIPTION}"></h5>
        <button th:value="${test.TEST_SEQ}" onclick="openEditLayer(this)">편집</button>
        <button th:value="${test.TEST_SEQ}" onclick="removeTest(this)">삭제</button>
        <hr>
    </div>

    <button onclick="openEditLayer(this)">테스트 추가</button>
</body>
</html>

<!--layers-->
<div id="testEditLayer" class="testEditLayer" style="display: none">
    <div>
        testEditLayer
    </div>
    <hr>
    <button onclick="closeEditLayer()">닫기</button>
</div>
<style>
    .testEditLayer {
        width: 100%;
        height: 100%;
        position: fixed;
        left: 0%;
        top: 0%;
        border:2px solid #ccc;
        overflow:auto;
        background-color:white;
        border-radius: 5px;
    }
</style>